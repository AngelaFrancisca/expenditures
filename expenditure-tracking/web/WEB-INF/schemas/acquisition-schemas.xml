<schema name="createAcquisitionRequest"
		type="pt.ist.expenditureTrackingSystem.domain.dto.CreateAcquisitionProcessBean"
		bundle="ACQUISITION_RESOURCES">
	<slot name="supplier" layout="autoComplete" key="label.acquisition.supplier" bundle="ACQUISITION_RESOURCES">
        <property name="labelField" value="name"/>
		<property name="format" value="${fiscalIdentificationCode} - ${name}"/>
		<property name="minChars" value="1"/>		
		<property name="args" value="provider=pt.ist.expenditureTrackingSystem.presentationTier.renderers.autoCompleteProvider.NIFSupplierAutoCompleteProvider"/>
		<property name="size" value="40"/>
		<validator class="pt.ist.fenixWebFramework.rendererExtensions.validators.RequiredAutoCompleteSelectionValidator">
			<property name="message" value="label.please.select.one.supplier"/>
			<property name="bundle" value="ACQUISITION_RESOURCES"/>
			<property name="key" value="true"/>
		</validator>
	</slot>
	<slot name="requestingUnit" layout="autoComplete" key="label.requestingUnit" bundle="ACQUISITION_RESOURCES">
        <property name="labelField" value="presentationName"/>
		<property name="format" value="${presentationName}"/>
		<property name="minChars" value="3"/>		
		<property name="args" value="provider=pt.ist.expenditureTrackingSystem.presentationTier.renderers.autoCompleteProvider.UnitAutoCompleteProvider" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator"/>
		<property name="size" value="40"/>
		<validator class="pt.ist.fenixWebFramework.rendererExtensions.validators.RequiredAutoCompleteSelectionValidator">
			<property name="message" value="label.please.select.one.unit"/>
			<property name="bundle" value="ACQUISITION_RESOURCES"/>
			<property name="key" value="true"/>
		</validator>
	</slot>
	<slot name="requestUnitPayingUnit" key="label.requestUnitPayingUnit" bundle="ACQUISITION_RESOURCES"/>	
</schema>

<schema name="editAcquisitionRequest"
		type="pt.ist.expenditureTrackingSystem.domain.dto.CreateAcquisitionProcessBean"
		bundle="ACQUISITION_RESOURCES" extends="createAcquisitionRequest">
</schema>

<schema name="viewAcquisitionRequest"
		type="pt.ist.expenditureTrackingSystem.domain.acquisitions.AcquisitionRequest"
		bundle="ACQUISITION_RESOURCES">
	<slot name="acquisitionProcess.requestor.name" key="label.acquisition.requestor" bundle="ACQUISITION_RESOURCES"/>
	<slot name="acquisitionProcess.requestingUnit.presentationName" key="label.acquisition.requesting.unit" bundle="ACQUISITION_RESOURCES"/>
	<slot name="totalAmountsForEachPayingUnit" key="label.payingUnits" bundle="ACQUISITION_RESOURCES" layout="tabular" schema="viewPayingUnitWithTotalAmount">
		<property name="classes" value="payingunits"/>
		<property name="columnClasses" value=",nowrap vatop,"/>
	</slot>
	<slot name="acquisitionProcess.acquisitionProcessState.localizedName" key="label.acquisition.process.state" bundle="ACQUISITION_RESOURCES"/>
	<slot name="fiscalIdentificationCode" key="label.service.provider.fiscalIdentificationCode" bundle="ACQUISITION_RESOURCES"/>
	<slot name="totalItemValue" key="label.total.item.value" bundle="ACQUISITION_RESOURCES"/>
	<slot name="acquisitionProcess.fundAllocationId" key="label.fund.allocation.identification" bundle="ACQUISITION_RESOURCES"/>
	<slot name="acquisitionProcess.fundAllocationExpirationDate" key="label.fund.allocation.expiration.date" bundle="ACQUISITION_RESOURCES">
		<property name="format" value="${year}-${monthOfYear,02d}-${dayOfMonth,02d}"/>
	</slot>
	<slot name="invoiceNumber" key="label.invoice.number" bundle="ACQUISITION_RESOURCES"/>
	<slot name="invoiceDate" key="label.invoice.date" bundle="ACQUISITION_RESOURCES"/>
	<slot name="paymentReference" key="label.acquisitionProcess.paymentReference" bundle="ACQUISITION_RESOURCES" layout="null-as-label">
		<property name="subLayout" value="default"/>
	</slot>
</schema>

<schema name="viewPayingUnitWithTotalAmount"
		type="pt.ist.expenditureTrackingSystem.domain.dto.PayingUnitTotalBean"
		bundle="ACQUISITION_RESOURCES">
		<slot name="payingUnit.presentationName" key="link.approve"/>
		<slot name="amount" key="link.approve"/>
</schema>

<schema name="viewAcquisitionProcessInList"
		type="pt.ist.expenditureTrackingSystem.domain.acquisitions.AcquisitionProcess"
		bundle="ACQUISITION_RESOURCES">
	<slot name="acquisitionProcessState.localizedName" key="label.acquisition.process.state" bundle="ACQUISITION_RESOURCES"/>
	<slot name="acquisitionRequest.requester.name" key="label.acquisition.requester" bundle="ACQUISITION_RESOURCES"/>
	<slot name="dateFromLastActivity" key="label.inactive.since" bundle="ACQUISITION_RESOURCES">
		<property name="classes" value="nowrap"/>
	</slot> 
	<slot name="acquisitionRequest.fiscalIdentificationCode" key="label.service.provider.fiscalIdentificationCode" bundle="ACQUISITION_RESOURCES"/>
	<slot name="acquisitionRequest.totalItemValue" key="label.total.item.value" bundle="ACQUISITION_RESOURCES">
		<property name="classes" value="nowrap"/>
	</slot>
</schema>

<schema name="addAcquisitionProposalDocument"
		type="pt.ist.expenditureTrackingSystem.presentationTier.actions.acquisitions.AcquisitionProcessAction$AcquisitionProposalDocumentForm"
		bundle="ACQUISITION_RESOURCES">
	<slot name="inputStream" key="label.input.stream"	bundle="ACQUISITION_RESOURCES" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator">
		<property name="fileNameSlot" value="filename" />
		<property name="size" value="30"/>
	</slot>
</schema>

<schema name="createAcquisitionRequestItem.Base" type="pt.ist.expenditureTrackingSystem.domain.dto.AcquisitionRequestItemBean"
		bundle="ACQUISITION_RESOURCES">
	<slot name="proposalReference" key="label.acquisition.request.item.proposalReference" bundle="ACQUISITION_RESOURCES" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator"/>
	<slot name="quantity" key="label.acquisition.request.item.quantity" bundle="ACQUISITION_RESOURCES" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator"/>
	<slot name="unitValue" key="label.acquisition.request.item.unitValue" bundle="ACQUISITION_RESOURCES" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator"/>
	<slot name="vatValue" key="label.acquisition.request.item.vatValue" bundle="ACQUISITION_RESOURCES" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator"/>	
	<slot name="additionalCostValue" key="label.acquisition.request.item.additionalCostValue" bundle="ACQUISITION_RESOURCES" />	
	<slot name="CPVReference" layout="autoComplete" key="label.acquisition.request.item.salesCode" bundle="ACQUISITION_RESOURCES">
	    <property name="labelField" value="code"/>
		<property name="format" value="${code} - ${description}"/>
		<property name="minChars" value="1"/>		
		<property name="args" value="provider=pt.ist.expenditureTrackingSystem.presentationTier.renderers.autoCompleteProvider.CPVAutoCompleteProvider"/>
		<property name="size" value="40"/>
		<validator class="pt.ist.fenixWebFramework.rendererExtensions.validators.RequiredAutoCompleteSelectionValidator">
			<property name="message" value="label.please.select.one.cpv"/>
			<property name="bundle" value="ACQUISITION_RESOURCES"/>
			<property name="key" value="true"/>
		</validator>
	</slot>
	<slot name="description" key="label.acquisition.request.item.description" bundle="ACQUISITION_RESOURCES" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator" layout="longText">
		<property name="columns" value="40"/>
		<property name="rows" value="4"/>
	</slot>
	<slot name="createItemSchemaType" layout="radio-postback" key="label.acquisition.request.item.deliveryInfo" bundle="ACQUISITION_RESOURCES" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator">
		<property name="classes" value="liinline nobullet"/>
	</slot>
</schema>

<schema name="createAcquisitionRequestItem_NEW_DELIVERY_INFO" extends="createAcquisitionRequestItem.Base"
		type="pt.ist.expenditureTrackingSystem.domain.dto.AcquisitionRequestItemBean"
		bundle="ACQUISITION_RESOURCES">
	<slot name="recipient" key="label.recipient" bundle="ACQUISITION_RESOURCES" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator">
		<property name="size" value="60"/>
	</slot>	
	<slot name="address" layout="address-input" key="label.receptionAddress" bundle="ACQUISITION_RESOURCES" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator"/>
</schema>

<schema name="createAcquisitionRequestItem_EXISTING_DELIVERY_INFO" extends="createAcquisitionRequestItem.Base"
		type="pt.ist.expenditureTrackingSystem.domain.dto.AcquisitionRequestItemBean"
		bundle="ACQUISITION_RESOURCES">
	<slot name="deliveryInfo" layout="menu-select" key="label.acquisition.request.item.deliveryInfo" bundle="ACQUISITION_RESOURCES" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator">
		<property name="providerClass" value="pt.ist.expenditureTrackingSystem.presentationTier.renderers.dataProvider.DeliveryInfoProvider"/>
		<property name="eachLayout" value="nonNullValues-commaSeparated"/>
		<property name="eachSchema" value="showDeliveryInfo"/> 
	</slot>
</schema>

	
<schema name="showDeliveryInfo" 
		type="pt.ist.expenditureTrackingSystem.domain.organization.DeliveryInfo"
		bundle="ACQUISITION_RESOURCES">
	<slot name="recipient"/>
	<slot name="address.line1"/>
	<slot name="address.line2"/>
	<slot name="address.postalCode"/>
	<slot name="address.location"/>
	<slot name="address.country"/>
</schema>

<schema name="viewAcquisitionRequestItem"
		type="pt.ist.expenditureTrackingSystem.domain.acquisitions.AcquisitionRequestItem"
		bundle="ACQUISITION_RESOURCES">
	<slot name="proposalReference" key="label.acquisition.request.item.proposalReference" bundle="ACQUISITION_RESOURCES" />
	<slot name="quantity" key="label.acquisition.request.item.quantity" bundle="ACQUISITION_RESOURCES"/>
	<slot name="realQuantity" key="label.acquisition.request.item.realQuantity" bundle="ACQUISITION_RESOURCES" layout="null-as-label">
		<property name="subLayout" value="default"/>
	</slot>
	<slot name="unitValue" key="label.acquisition.request.item.unitValue" bundle="ACQUISITION_RESOURCES"/>
	<slot name="realUnitValue" key="label.acquisition.request.item.realUnitValue" bundle="ACQUISITION_RESOURCES" layout="null-as-label">
		<property name="subLayout" value="default"/>
	</slot>
	<slot name="vatValue" key="label.acquisition.request.item.vatValue" bundle="ACQUISITION_RESOURCES" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator"/>
	<slot name="additionalCostValue" key="label.acquisition.request.item.additionalCostValue" bundle="ACQUISITION_RESOURCES" layout="null-as-label" />
	<slot name="totalItemValue" key="label.acquisition.request.item.totalValue" bundle="ACQUISITION_RESOURCES"/>
	<slot name="totalAssignedValue" key="label.acquisition.request.item.assignedValue" bundle="ACQUISITION_RESOURCES"/>
	.<slot name="shipmentValue" key="label.acquisition.request.item.ShipmentValue" bundle="ACQUISITION_RESOURCES" layout="null-as-label">
		<property name="subLayout" value="default"/>
	</slot>
	<slot name="unitItems" key="label.payingUnits" bundle="ACQUISITION_RESOURCES" layout="tabular" schema="viewUnitItem">
		<property name="classes" value="payingunits"/>
		<property name="columnClasses" value=",nowrap vatop,"/>
	</slot>
	<slot name="CPVReference" key="label.acquisition.request.item.salesCode" bundle="ACQUISITION_RESOURCES" layout="format">
		<property name="format" value="${code} - ${description}"/>
	</slot>
	<slot name="description" key="label.acquisition.request.item.description" bundle="ACQUISITION_RESOURCES"/>
</schema>

<schema name="viewUnitItem"
		type="pt.ist.expenditureTrackingSystem.domain.acquisitions.UnitItem"
		bundle="ACQUISITION_RESOURCES">
	<slot name="unit.presentationName"/>
	<slot name="shareValue"/>
</schema>

<schema name="searchAcquisitionProcess"
		type="pt.ist.expenditureTrackingSystem.domain.acquisitions.SearchAcquisitionProcess"
		bundle="ACQUISITION_RESOURCES">
	<slot name="requester" key="label.requester" bundle="ACQUISITION_RESOURCES"/>
	<slot name="acquisitionProcessState" key="label.acquisition.process.state" bundle="ACQUISITION_RESOURCES"/>
	<slot name="fiscalIdentificationCode" key="label.service.provider.fiscalIdentificationCode" bundle="ACQUISITION_RESOURCES"/>
</schema>

<schema name="allocateFunds"
		type="pt.ist.expenditureTrackingSystem.domain.dto.FundAllocationBean"
		bundle="ACQUISITION_RESOURCES">
	<slot name="fundAllocationId" key="label.fund.allocation.identification" bundle="ACQUISITION_RESOURCES" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator"/>
</schema>

<schema name="allocateFundsToServiceProvider"
		type="pt.ist.expenditureTrackingSystem.domain.dto.FundAllocationExpirationDateBean"
		bundle="ACQUISITION_RESOURCES">
	<slot name="fundAllocationExpirationDate" key="label.fund.allocation.expiration.date" bundle="ACQUISITION_RESOURCES" >
		<property name="format" value="dd-MM-yyyy"/>
	<validator class="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator"/>
	<validator class="pt.ist.fenixWebFramework.renderers.validators.DateValidator">
		<property name="dateFormat" value="dd-MM-yyyy"/>
	</validator>
	</slot>
</schema>

<schema name="receiveInvoiceForm"
		type="pt.ist.expenditureTrackingSystem.presentationTier.actions.acquisitions.AcquisitionProcessAction$ReceiveInvoiceForm"
		bundle="ACQUISITION_RESOURCES">
	<slot name="invoiceNumber" key="label.invoice.number" bundle="ACQUISITION_RESOURCES" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator"/>
	<slot name="invoiceDate" key="label.invoice.date" bundle="ACQUISITION_RESOURCES">
		<property name="format" value="dd-MM-yyyy"/>
		<validator class="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator"/>
		<validator class="pt.ist.fenixWebFramework.renderers.validators.DateValidator">
			<property name="dateFormat" value="dd-MM-yyyy"/>
		</validator>
	</slot>
	<slot name="inputStream" key="label.invoice.file" bundle="ACQUISITION_RESOURCES" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator">
		<property name="fileNameSlot" value="filename" />
		<property name="size" value="30"/>
	</slot>
</schema>

<schema name="viewAcquisitionRequester"
		type="pt.ist.expenditureTrackingSystem.domain.organization.Person"
		bundle="ACQUISITION_RESOURCES">
	<slot name="username" key="label.person.username" bundle="ORGANIZATION_RESOURCES"/>
	<slot name="name" key="label.organization.name" bundle="ORGANIZATION_RESOURCES"/>
</schema>

<schema name="viewAcquisitionSupplier"
		type="pt.ist.expenditureTrackingSystem.domain.organization.Supplier"
		bundle="ACQUISITION_RESOURCES">
	<slot name="name" key="label.supplier.name" bundle="ORGANIZATION_RESOURCES"/>
	<slot name="fiscalIdentificationCode" key="label.service.provider.fiscalIdentificationCode" />
	<slot name="address" layout="address" key="label.supplier.address" bundle="ORGANIZATION_RESOURCES" />	
</schema>

<schema name="viewOperationLog"
		type="pt.ist.expenditureTrackingSystem.domain.acquisitions.OperationLog"
		bundle="ACQUISITION_RESOURCES">
		<slot name="executor.name" key="label.person.name"/>
		<slot name="activity.class" key="label.operation" layout="label">
			<property name="bundle" value="ACQUISITION_RESOURCES"/>
		</slot>
		<slot name="whenOperationWasRan" key="label.execution.date"/>
</schema>


<schema name="select.unit.from.domain.object.bean"
		type="pt.ist.expenditureTrackingSystem.domain.dto.DomainObjectBean"
		bundle="ACQUISITION_RESOURCES">
	<slot name="domainObject" layout="autoComplete" key="label.payingUnit" bundle="ACQUISITION_RESOURCES">
        <property name="labelField" value="presentationName"/>
		<property name="format" value="${presentationName}"/>
		<property name="minChars" value="3"/>	
		<property name="size" value="50"/>	
		<property name="args" value="provider=pt.ist.expenditureTrackingSystem.presentationTier.renderers.autoCompleteProvider.UnitAutoCompleteProvider"/>
	</slot>
</schema>

<schema name="itemDescription"
		type="pt.ist.expenditureTrackingSystem.domain.acquisitions.AcquisitionRequestItem"
		bundle="ACQUISITION_RESOURCES">
	<slot name="description" key="label.acquisition.request.item.description" bundle="ACQUISITION_RESOURCES"/>
	<slot name="proposalReference" key="label.acquisition.request.item.proposalReference" bundle="ACQUISITION_RESOURCES"/>
	<slot name="quantity" key="label.acquisition.request.item.quantity" bundle="ACQUISITION_RESOURCES"/>
</schema>

<schema name="unit.item.bean.edition"
		type="pt.ist.expenditureTrackingSystem.domain.dto.UnitItemBean"
		bundle="ACQUISITION_RESOURCES">
	<slot name="unit.presentationName" key="label.payingUnit" bundle="ACQUISITION_RESOURCES" read-only="true"/>
	<slot name="assigned" key="label.pt.ist.expenditureTrackingSystem.domain.acquisitions.activities.AssignPayingUnitToItem" bundle="ACQUISITION_RESOURCES"/>
	<slot name="shareValue" key="label.shareValue" bundle="ACQUISITION_RESOURCES"/>
</schema>

<schema name="unitName"
		type="pt.ist.expenditureTrackingSystem.domain.organization.Unit"
		bundle="ACQUISITION_RESOURCES">
	<slot name="presentationName" key="label.payingUnit" bundle="ACQUISITION_RESOURCES"/>
</schema>


<schema name="editSchemaRealValues" type="pt.ist.expenditureTrackingSystem.domain.dto.AcquisitionRequestItemBean"
		bundle="ACQUISITION_RESOURCES">
	<slot name="realQuantity" key="label.acquisition.request.item.realQuantity" bundle="ACQUISITION_RESOURCES" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator"/>
	<slot name="realUnitValue" key="label.acquisition.request.item.realUnitValue" bundle="ACQUISITION_RESOURCES" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator"/>
	<slot name="realVatValue" key="label.acquisition.request.item.realVatValue" bundle="ACQUISITION_RESOURCES" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator"/>
	<slot name="shipment" key="label.acquisition.request.item.ShipmentValue" bundle="ACQUISITION_RESOURCES" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator"/>	
</schema>

<schema name="editSchemaRealShareValues" type="pt.ist.expenditureTrackingSystem.domain.dto.AcquisitionRequestItemBean"
		bundle="ACQUISITION_RESOURCES">
	<slot name="unit.presentationName" read-only="true" key="label.payingUnit"/>
	<slot name="item.totalItemValue" read-only="true" key="label.acquisition.request.item.totalValue"/>
	<slot name="shareValue" read-only="true" key="label.allocated.share.value"/>
	<slot name="item.totalRealValue" read-only="true" key="label.acquisition.request.item.totalRealValue"/>
	<slot name="realShareValue" key="label.real.allocation" validator="pt.ist.fenixWebFramework.renderers.validators.RequiredValidator"/>
</schema>

<schema name="viewAuthorization" type="pt.ist.expenditureTrackingSystem.domain.authorizations.Authorization"
		bundle="ACQUISITION_RESOURCES">
		<slot name="person.name" key="label.person.name"/>
		<slot name="unit.name" key="label.unit" bundle="ORGANIZATION_RESOURCES"/>
		<slot name="class" layout="label" key="label.authorizationType"  bundle="ORGANIZATION_RESOURCES">
			<property name="bundle" value="EXPENDITURE_RESOURCES"/>
		</slot>
		<slot name="canDelegate" key="label.can.delegate" bundle="ORGANIZATION_RESOURCES"/>
		<slot name="startDate" key="label.startDate" bundle="EXPENDITURE_RESOURCES" layout="null-as-label">
			<property name="subLayout" value="default"/>
		</slot>
		<slot name="endDate" key="label.endDate" bundle="EXPENDITURE_RESOURCES" layout="null-as-label">
			<property name="subLayout" value="default"/>
		</slot>
</schema>

<schema name="delegateAuthorization" type="pt.ist.expenditureTrackingSystem.domain.dto.AuthorizationBean"
		bundle="ACQUISITION_RESOURCES">
		<slot name="person" key="label.person.name" layout="autoComplete">
			<property name="labelField" value="name"/>
			<property name="format" value="${name} (${username})"/>
			<property name="minChars" value="1"/>		
			<property name="args" value="provider=pt.ist.expenditureTrackingSystem.presentationTier.renderers.autoCompleteProvider.PersonNameAutoComplete"/>
			<property name="size" value="40"/>
			<validator class="pt.ist.fenixWebFramework.rendererExtensions.validators.RequiredAutoCompleteSelectionValidator">
				<property name="message" value="label.please.select.one.person"/>
				<property name="bundle" value="ACQUISITION_RESOURCES"/>
				<property name="key" value="true"/>
			</validator>
		</slot>
		<slot name="canDelegate" key="label.can.delegate" bundle="ORGANIZATION_RESOURCES"/>
		<slot name="endDate" key="label.endDate" bundle="EXPENDITURE_RESOURCES"/>
</schema>